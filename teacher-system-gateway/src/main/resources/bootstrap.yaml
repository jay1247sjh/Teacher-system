spring:
  application:
    name: teacher-system-gateway
  profiles:
    active: ${SPRING_PROFILES_ACTIVE}
  config:
    import: optional:nacos:${spring.application.name}
  cloud:
    nacos:
      discovery:
        server-addr: ${NACOS_ADDR}
        namespace: ${NACOS_NAMESPACE}
        group: ${NACOS_GROUP}
        username: ${NACOS_USERNAME}
        password: ${NACOS_PASSWORD}
      config:
        server-addr: ${NACOS_ADDR}
        namespace: ${NACOS_NAMESPACE}
        username: ${NACOS_USERNAME}
        password: ${NACOS_PASSWORD}
    gateway:
      discovery:
        locator:
          enabled: true     # 自动从Nacos拉取服务，开启后可以用服务名访问
      routes:
        - id: login-service
          uri: lb://teacher-system-login
          predicates:
            - Path=/api/v1/login/**
          filters:
            - RewritePath=/api/v1/(?<remaining>.*), /${remaining}


